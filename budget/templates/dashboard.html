{% extends "base.html" %}

{% block content %}
<h1>Welcome, {{ user.username }}!</h1>

    <section>
        <h2>Your Goals</h2>
        {% if user_goals %}
            <ul>
                {% for goal in user_goals %}
                    <li>{{ goal.name }}: 0 z {{ goal.target_amount }} | 0.00%</li>
                {% endfor %}
            </ul>
        {% else %}
            <p>No budget goals set yet.</p>
        {% endif %}
        <a href="{% url 'add_goal' %}">Create New Goal</a>
    </section>

    <section>
        <h2>Your Budgets</h2>
        {% if budgets %}
            <ul>
                {% for budget in budgets %}
                    <li>{{ budget.name }} - {{ budget.date }}</li>
                {% endfor %}
            </ul>
        {% else %}
            <p>No budgets created yet.</p>
        {% endif %}
    </section>

    <section>
        <h2>Yor contribution</h2>
        {% if user_contribution %}
            <ul>
                {% for contribution in user_contribution %}
                    <li>Goal: {{contribution.goal.name}} | donated: {{contribution.amount}}</li>
                {% endfor %}
            </ul>
        {% else %}
            <p>No contribution made yet.</p>
        {% endif %}
    </section>

    <section>
        <h2>Contribution to your goals</h2>
        {% if other_contribution %}
            <ul>
                {% for contribution in other_contribution %}
                    <li>Goal: {{contribution.goal.name}} | {{contribution.contributor}} donated: {{contribution.amount}}</li>
                {% endfor %}
            </ul>
        {% else %}
        {% endif %}
    </section>
{% endblock %}